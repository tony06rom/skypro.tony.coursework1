![SkyPro_image](/data/images/for_readme_file/SkyPro.png)
![Python_image](/data/images/for_readme_file/Python.png)
![Git_image](/data/images/for_readme_file/Git.png)
![GitHub_image](/data/images/for_readme_file/GitHub.png)

# Курсовой проект № 1
## Приложение для анализа банковских операций

Приложение на данный момент содержит:
- в каждом модуле имеются свои функции
- gitignore настроен на работу с PyCharm
- подключены линтеры
- локальный Git связан с репозиторием на GitHub
===============================================================================================

### Логика готовой программы
Этв программа - симулятор банковского приложения, которая выдает информацию о кэшбэках, транзакция, курсах валют и тд.

Запуск программы: файл main.py в корне директории отвечает за все действия. Запустите его из консоли

Описание функций:

- get_currency_rates
Обращение к внешнему API. Возвращает курсы валют из списка

- get_stock_prices
Обращение к внешнему API. Возвращает курсы акций из списка

- cards_collector
Принимает список банковских операций и возвращает сумму трат по картам

- top_transactions
Принимает список банковских операций и возвращает топ-5 транзакций по сумме платежа

- currency_rates
Возвращает стоимость валют из заданного списка через API

- main_page
Принимает на вход текущую дату и возвращает JSON-ответ содержащий расходы и кэшбек по каждой карте, топ-5 транзакций по сумме платежа, курс валют и стоимость акций указанных в файле user_settings.json

===============================================================================================
## Pytest

Реализовано тестирование функций при помощи pytest.
Отчет реализован в импорте в [html](/htmlcov)
На данный момент покрыто тестами 81% функций проекта (скриншот):
   <details>
   <summary>Pytest_cov:</summary>
  
   [![Pytest_cov][1]][1]

   [1]: /data/for_readme/images/Pytest_cov.png
   </details>


===============================================================================================

## logging

На данный момент логирование реализовано в модуле **logging**

### Директория логов: ```../logs```

### Доступные уровни логирования:
- critical
- error
- warning
- info
- debug

### Доступные форматы логирования:
* __%(asctime)s__ — дата и время события логирования
* __%(name)s__ — имя логера
* __%(levelname)s__ — уровень логирования
* __%(message)s__ — текст сообщения
* __%(filename)s__ — имя файла, в котором произошло событие
* __%(funcName)s__ — имя функции, в которой произошло событие
* __%(lineno)d__ — номер строки, в которой произошло событие
* __%(process)d__ — ID процесса
* __%(thread)d__ — ID потока

### Используемый формат логов:
```%(asctime)s | %(name)s | %(levelname)s | %(funcName)s: %(message)s```

===============================================================================================
## Полезные команды тестирования

Формирование отчёта в html:
```pytest --cov=src --cov-report=html```
Отчёт в консоли:
```run pytest --cov```
Проверка тестовых файлов:
```pytest -cov```

===============================================================================================

## Проблемы проекта
Не весь код был протестирован ввиду сложности реализации тестов.

===============================================================================================

Этот проект выполняется совместно с [SkyPro](https://sky.pro/)
####  Автор проекта: **Romanenko Anton**
